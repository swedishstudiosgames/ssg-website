(()=>{const form=document.getElementById('smartSearch');const input=document.getElementById('q');const toggle=document.getElementById('engineToggle');const modes={store:{action:'https://store.swedishstudiosgames.com/search',ariaLabel:'Site search',placeholder:'Search the store...',toggleTitle:'Search the internet'},web:{action:'https://search.swedishstudiosgames.com/search',ariaLabel:'Web search (SearXNG)',placeholder:'Search the internet...',toggleTitle:'Searching the internet'}};let currentMode='store';const applyMode=()=>{const config=modes[currentMode];const isWebMode=currentMode==='web';form.action=config.action;form.setAttribute('aria-label',config.ariaLabel);input.placeholder=config.placeholder;toggle.title=config.toggleTitle;toggle.classList.toggle('active',isWebMode);toggle.setAttribute('aria-pressed',isWebMode);};toggle.addEventListener('click',()=>{currentMode=(currentMode==='store')?'web':'store';applyMode();input.focus();});document.addEventListener('keydown',(e)=>{if(e.altKey&&e.key.toLowerCase()==='g'){e.preventDefault();toggle.click();}});form.method='post';applyMode();})();